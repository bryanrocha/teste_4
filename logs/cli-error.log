2018-05-05 01:57:04 Error: [Error] Call to a member function table() on null in /Users/bryanrocha/cakephp/teste_4/config/Migrations/20180505015412_AlterAmigo.php on line 15
Stack Trace:
#0 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager/Environment.php(122): AlterAmigo->change()
#1 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(AlterAmigo), 'up')
#2 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(AlterAmigo), 'up')
#3 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Console/Command/Migrate.php(113): Phinx\Migration\Manager->migrate('default', 20180505015412)
#4 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#5 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#6 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Command/Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#7 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#8 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#9 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#10 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#12 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#13 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(339): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#14 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(161): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#15 /Users/bryanrocha/cakephp/teste_4/bin/cake.php(12): Cake\Console\CommandRunner->run(Array)
#16 {main}


2018-05-05 01:57:04 Warning: The connection is going to be closed but there is an active transaction.
2018-05-05 01:57:04 Warning: Warning (2): fwrite(): supplied resource is not a valid stream resource in [/Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE/src/Error/BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE/src/Console/ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE/src/Console/ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE/src/Log/Engine/ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE/src/Log/Log.php, line 384
Cake\Log\Log::warning() - CORE/src/Log/Log.php, line 469
Cake\Database\Connection::__destruct() - CORE/src/Database/Connection.php, line 135
[main] - [internal], line ??



2018-05-05 01:58:05 Error: [Error] Class 'MysqlAdapter' not found in /Users/bryanrocha/cakephp/teste_4/config/Migrations/20180505015412_AlterAmigo.php on line 16
Stack Trace:
#0 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager/Environment.php(122): AlterAmigo->change()
#1 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(AlterAmigo), 'up')
#2 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(AlterAmigo), 'up')
#3 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Console/Command/Migrate.php(113): Phinx\Migration\Manager->migrate('default', 20180505015412)
#4 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#5 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#6 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Command/Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#7 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#8 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#9 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#10 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#12 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#13 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(339): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#14 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(161): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#15 /Users/bryanrocha/cakephp/teste_4/bin/cake.php(12): Cake\Console\CommandRunner->run(Array)
#16 {main}


2018-05-05 01:58:05 Warning: The connection is going to be closed but there is an active transaction.
2018-05-05 01:58:05 Warning: Warning (2): fwrite(): supplied resource is not a valid stream resource in [/Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE/src/Error/BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE/src/Console/ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE/src/Console/ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE/src/Log/Engine/ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE/src/Log/Log.php, line 384
Cake\Log\Log::warning() - CORE/src/Log/Log.php, line 469
Cake\Database\Connection::__destruct() - CORE/src/Database/Connection.php, line 135
[main] - [internal], line ??



2018-05-07 16:20:13 Error: [Error] Class 'MysqlAdapter' not found in /Users/bryanrocha/cakephp/teste_4/config/Migrations/20180505015412_AlterAmigo.php on line 16
Stack Trace:
#0 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager/Environment.php(122): AlterAmigo->change()
#1 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(AlterAmigo), 'up')
#2 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(AlterAmigo), 'up')
#3 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Console/Command/Migrate.php(113): Phinx\Migration\Manager->migrate('default', 20180505015912)
#4 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#5 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#6 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Command/Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#7 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#8 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#9 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#10 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#12 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#13 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(339): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#14 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(161): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#15 /Users/bryanrocha/cakephp/teste_4/bin/cake.php(12): Cake\Console\CommandRunner->run(Array)
#16 {main}


2018-05-07 16:20:13 Warning: The connection is going to be closed but there is an active transaction.
2018-05-07 16:20:13 Warning: Warning (2): fwrite(): supplied resource is not a valid stream resource in [/Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE/src/Error/BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE/src/Console/ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE/src/Console/ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE/src/Log/Engine/ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE/src/Log/Log.php, line 384
Cake\Log\Log::warning() - CORE/src/Log/Log.php, line 469
Cake\Database\Connection::__destruct() - CORE/src/Database/Connection.php, line 135
[main] - [internal], line ??



2018-05-07 18:41:44 Error: [PDOException] SQLSTATE[HY000]: General error: 1215 Cannot add foreign key constraint in /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Db/Adapter/PdoAdapter.php on line 338
Stack Trace:
#0 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Db/Adapter/PdoAdapter.php(338): PDO->exec('ALTER TABLE `Am...')
#1 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Db/Adapter/MysqlAdapter.php(695): Phinx\Db\Adapter\PdoAdapter->execute('ALTER TABLE `Am...')
#2 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/CakeAdapter.php(636): Phinx\Db\Adapter\MysqlAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#3 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Db/Table.php(636): Migrations\CakeAdapter->addForeignKey(Object(Migrations\Table), Object(Phinx\Db\Table\ForeignKey))
#4 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Table.php(106): Phinx\Db\Table->update()
#5 /Users/bryanrocha/cakephp/teste_4/config/Migrations/20180507184001_AddForeignKeyAmigo.php(17): Migrations\Table->update()
#6 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager/Environment.php(122): AddForeignKeyAmigo->change()
#7 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(366): Phinx\Migration\Manager\Environment->executeMigration(Object(AddForeignKeyAmigo), 'up')
#8 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Migration/Manager.php(342): Phinx\Migration\Manager->executeMigration('default', Object(AddForeignKeyAmigo), 'up')
#9 /Users/bryanrocha/cakephp/teste_4/vendor/robmorgan/phinx/src/Phinx/Console/Command/Migrate.php(113): Phinx\Migration\Manager->migrate('default', 20180507184001)
#10 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/CommandTrait.php(35): Phinx\Console\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#11 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Command/Migrate.php(65): Migrations\Command\Migrate->parentExecute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#12 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Command/Command.php(252): Migrations\Command\Migrate->execute(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#13 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(946): Symfony\Component\Console\Command\Command->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#14 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(248): Symfony\Component\Console\Application->doRunCommand(Object(Migrations\Command\Migrate), Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#15 /Users/bryanrocha/cakephp/teste_4/vendor/symfony/console/Application.php(148): Symfony\Component\Console\Application->doRun(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#16 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(108): Symfony\Component\Console\Application->run(Object(Symfony\Component\Console\Input\ArgvInput), Object(Symfony\Component\Console\Output\ConsoleOutput))
#17 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/Shell.php(532): Migrations\Shell\MigrationsShell->main('migrations', 'migrate')
#18 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/migrations/src/Shell/MigrationsShell.php(164): Cake\Console\Shell->runCommand(Array, true, Array)
#19 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(339): Migrations\Shell\MigrationsShell->runCommand(Array, true)
#20 /Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/CommandRunner.php(161): Cake\Console\CommandRunner->runShell(Object(Migrations\Shell\MigrationsShell), Array)
#21 /Users/bryanrocha/cakephp/teste_4/bin/cake.php(12): Cake\Console\CommandRunner->run(Array)
#22 {main}


2018-05-07 18:41:44 Warning: The connection is going to be closed but there is an active transaction.
2018-05-07 18:41:44 Warning: Warning (2): fwrite(): supplied resource is not a valid stream resource in [/Users/bryanrocha/cakephp/teste_4/vendor/cakephp/cakephp/src/Console/ConsoleOutput.php, line 253]
Trace:
Cake\Error\BaseErrorHandler::handleError() - CORE/src/Error/BaseErrorHandler.php, line 153
fwrite - [internal], line ??
Cake\Console\ConsoleOutput::_write() - CORE/src/Console/ConsoleOutput.php, line 253
Cake\Console\ConsoleOutput::write() - CORE/src/Console/ConsoleOutput.php, line 188
Cake\Log\Engine\ConsoleLog::log() - CORE/src/Log/Engine/ConsoleLog.php, line 94
Cake\Log\Log::write() - CORE/src/Log/Log.php, line 384
Cake\Log\Log::warning() - CORE/src/Log/Log.php, line 469
Cake\Database\Connection::__destruct() - CORE/src/Database/Connection.php, line 135
[main] - [internal], line ??



